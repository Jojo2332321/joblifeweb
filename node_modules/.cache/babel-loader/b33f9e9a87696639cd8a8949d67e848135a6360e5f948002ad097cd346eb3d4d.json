{"ast":null,"code":"import _slicedToArray from\"C:/Users/melya/WebstormProjects/joblifeweb/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import{Button,Form,Modal}from\"react-bootstrap\";import{createCompanys,createWorker,fetchCompanyType,fetchWorkPermit,fetchWorkStatus}from\"../http/ShiftsAPI\";import{Context}from\"../index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateWorkers=function CreateWorkers(_ref){var show=_ref.show,onHide=_ref.onHide;var _useContext=useContext(Context),shifts=_useContext.shifts;useEffect(function(){fetchWorkPermit().then(function(data){return shifts.setWorkerPermir(data);});fetchWorkStatus().then(function(data){return shifts.setWorkerStatus(data);});},[]);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),firstname=_useState2[0],setFirstname=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),surname=_useState4[0],setSurname=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),number=_useState6[0],setNumber=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),age=_useState8[0],setAge=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),citizenship=_useState10[0],setCitizenship=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),workStatus=_useState12[0],setWorkStatus=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),workPermit=_useState14[0],setWorkPermit=_useState14[1];var addWorker=function addWorker(){var formData=new FormData();formData.append('firstname',firstname);formData.append('surname',surname);formData.append('workPermitId',workPermit);formData.append('number',number);formData.append('age',age);formData.append('citizenship',citizenship);formData.append('workStatusId',workStatus);createWorker(formData).then(function(data){setFirstname('');setSurname('');setWorkPermit('');setNumber('');setAge('');setCitizenship('');setWorkStatus('');onHide();});};var ChangeWorkStatus=function ChangeWorkStatus(event){setWorkStatus(event.target.value);};var ChangeWorkPermit=function ChangeWorkPermit(event){setWorkPermit(event.target.value);};return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:onHide,size:\"sm\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{id:\"contained-modal-title-vcenter\",children:\"Add new worker\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Form.Control,{value:firstname,onChange:function onChange(e){return setFirstname(e.target.value);},className:\"mt-2\",placeholder:\"Enter worker's firstname\"}),/*#__PURE__*/_jsx(Form.Control,{value:surname,onChange:function onChange(e){return setSurname(e.target.value);},className:\"mt-2\",placeholder:\"Enter worker's surname\"}),/*#__PURE__*/_jsx(Form.Control,{value:number,onChange:function onChange(e){return setNumber(e.target.value);},className:\"mt-2\",placeholder:\"Enter worker's number\"}),/*#__PURE__*/_jsx(Form.Control,{value:age,onChange:function onChange(e){return setAge(e.target.value);},className:\"mt-2\",placeholder:\"Enter worker's age\"}),/*#__PURE__*/_jsx(Form.Control,{value:citizenship,onChange:function onChange(e){return setCitizenship(e.target.value);},className:\"mt-2\",placeholder:\"Enter worker's citizenship\"}),/*#__PURE__*/_jsxs(Form.Select,{className:\"mt-2\",\"aria-label\":\"Default select example\",value:workPermit,onChange:ChangeWorkPermit,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select Permit\"}),shifts.workerPermit.map(function(workerPermit){return/*#__PURE__*/_jsx(\"option\",{value:workerPermit.id,children:workerPermit.name},workerPermit.id);})]}),/*#__PURE__*/_jsxs(Form.Select,{className:\"mt-2\",\"aria-label\":\"Default select example\",value:workStatus,onChange:ChangeWorkStatus,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select Status\"}),shifts.workerStatus.map(function(workerStatus){return/*#__PURE__*/_jsx(\"option\",{value:workerStatus.id,children:workerStatus.name},workerStatus.id);})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",onClick:onHide,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-success\",onClick:addWorker,children:\"Add\"})]})]});};export default CreateWorkers;","map":{"version":3,"names":["React","useContext","useEffect","useState","Button","Form","Modal","createCompanys","createWorker","fetchCompanyType","fetchWorkPermit","fetchWorkStatus","Context","jsx","_jsx","jsxs","_jsxs","CreateWorkers","_ref","show","onHide","_useContext","shifts","then","data","setWorkerPermir","setWorkerStatus","_useState","_useState2","_slicedToArray","firstname","setFirstname","_useState3","_useState4","surname","setSurname","_useState5","_useState6","number","setNumber","_useState7","_useState8","age","setAge","_useState9","_useState10","citizenship","setCitizenship","_useState11","_useState12","workStatus","setWorkStatus","_useState13","_useState14","workPermit","setWorkPermit","addWorker","formData","FormData","append","ChangeWorkStatus","event","target","value","ChangeWorkPermit","size","centered","children","Header","Title","id","Body","Control","onChange","e","className","placeholder","Select","workerPermit","map","name","workerStatus","Footer","variant","onClick"],"sources":["C:/Users/melya/WebstormProjects/joblifeweb/client/src/modals/CreateWorkers.js"],"sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\r\nimport {Button, Form, Modal} from \"react-bootstrap\";\r\nimport {createCompanys, createWorker, fetchCompanyType, fetchWorkPermit, fetchWorkStatus} from \"../http/ShiftsAPI\";\r\nimport {Context} from \"../index\";\r\n\r\nconst CreateWorkers = ({show, onHide}) => {\r\n    const {shifts}=useContext(Context)\r\n    useEffect(()=>{\r\n        fetchWorkPermit().then(data =>shifts.setWorkerPermir(data))\r\n        fetchWorkStatus().then(data =>shifts.setWorkerStatus(data))\r\n    },[])\r\n\r\n    const [firstname, setFirstname] = useState('')\r\n    const [surname,setSurname] = useState('')\r\n    const [number, setNumber] = useState('')\r\n    const [age, setAge] = useState('')\r\n    const [citizenship , setCitizenship] = useState('')\r\n    const [workStatus, setWorkStatus ] = useState('')\r\n    const [workPermit,setWorkPermit] = useState('')\r\n    const addWorker = () =>{\r\n        const formData = new FormData()\r\n            formData.append('firstname', firstname)\r\n            formData.append('surname', surname,)\r\n            formData.append('workPermitId', workPermit,)\r\n            formData.append('number', number,)\r\n            formData.append('age', age,)\r\n            formData.append('citizenship', citizenship,)\r\n            formData.append('workStatusId', workStatus)\r\n        createWorker(formData).then(data =>{\r\n                setFirstname('')\r\n                setSurname ('')\r\n                setWorkPermit ('')\r\n                setNumber ('')\r\n                setAge ('')\r\n                setCitizenship ('')\r\n                setWorkStatus ('')\r\n                onHide()\r\n        })\r\n    }\r\n\r\n    const ChangeWorkStatus = (event) => {\r\n        setWorkStatus(event.target.value);\r\n    };\r\n    const ChangeWorkPermit = (event) => {\r\n        setWorkPermit(event.target.value);\r\n    };\r\n\r\n\r\n    return (\r\n\r\n        <Modal\r\n            show={show}\r\n            onHide={onHide}\r\n            size='sm'\r\n            centered>\r\n\r\n            <Modal.Header>\r\n                <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                    Add new worker\r\n                </Modal.Title>\r\n            </Modal.Header>\r\n\r\n            <Modal.Body>\r\n                <Form>\r\n                    <Form.Control\r\n                        value={firstname}\r\n                        onChange={e=> setFirstname(e.target.value)}\r\n                        className=\"mt-2\"\r\n                        placeholder={\"Enter worker's firstname\"}/>\r\n                    <Form.Control\r\n                        value={surname}\r\n                        onChange={e=>setSurname (e.target.value)}\r\n                        className=\"mt-2\"\r\n                        placeholder={\"Enter worker's surname\"}/>\r\n                    <Form.Control\r\n                        value={number}\r\n                        onChange={e=> setNumber(e.target.value)}\r\n                        className=\"mt-2\"\r\n                        placeholder={\"Enter worker's number\"}/>\r\n                    <Form.Control\r\n                        value={age}\r\n                        onChange={e=> setAge(e.target.value)}\r\n                        className=\"mt-2\"\r\n                        placeholder={\"Enter worker's age\"}/>\r\n                    <Form.Control\r\n                        value={citizenship}\r\n                        onChange={e=> setCitizenship(e.target.value)}\r\n                        className=\"mt-2\"\r\n                        placeholder={\"Enter worker's citizenship\"}/>\r\n\r\n                    <Form.Select className=\"mt-2\" aria-label=\"Default select example\" value={workPermit} onChange={ChangeWorkPermit}>\r\n                        <option>Select Permit</option>\r\n                        {shifts.workerPermit.map(workerPermit =>\r\n                            <option key={workerPermit.id} value={workerPermit.id}>{workerPermit.name}</option>\r\n                        )}\r\n                    </Form.Select>\r\n                    <Form.Select className=\"mt-2\" aria-label=\"Default select example\" value={workStatus} onChange={ChangeWorkStatus}>\r\n                        <option>Select Status</option>\r\n                        {shifts.workerStatus.map(workerStatus =>\r\n                            <option key={workerStatus.id} value={workerStatus.id}>{workerStatus.name}</option>\r\n                        )}\r\n                    </Form.Select>\r\n                </Form>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"outline-danger\" onClick={onHide}>Close</Button>\r\n                <Button variant=\"outline-success\" onClick={addWorker}>Add</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default CreateWorkers;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}