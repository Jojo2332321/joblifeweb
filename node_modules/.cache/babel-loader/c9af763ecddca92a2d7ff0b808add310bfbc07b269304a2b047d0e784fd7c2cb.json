{"ast":null,"code":"import _slicedToArray from\"C:/Users/melya/WebstormProjects/joblifeweb/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import{Modal,Button,Form}from\"react-bootstrap\";import{createShift,fetchCompanyType,fetchPositions,fetchWorker,fetchWorkHourTemplates}from\"../http/ShiftsAPI\";import{Context}from\"../index\";import Select from'react-select';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateShifts=function CreateShifts(_ref){var show=_ref.show,onHide=_ref.onHide,data=_ref.data;var _useContext=useContext(Context),shifts=_useContext.shifts;useEffect(function(){fetchPositions().then(function(data){return shifts.setPositions(data);});fetchWorker().then(function(data){return shifts.setWorker(data);});fetchWorkHourTemplates().then(function(data){return shifts.setWorkHourTemplates(data);});},[]);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),selectedEmployee=_useState2[0],setSelectedEmployee=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),selectedPosition=_useState4[0],setSelectedPosition=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),selectedShift=_useState6[0],setSelectedShift=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),startData=_useState8[0],setStartData=_useState8[1];var addShift=function addShift(){var formData=new FormData();/*TODO*/formData.append(\"workersShiftId\",selectedEmployee);formData.append(\"positionId\",selectedPosition);formData.append(\"workHourTemplateId\",selectedShift);formData.append(\"startDate\",data);createShift(formData).then(function(data){setSelectedEmployee(\"\");setSelectedPosition(\"\");setSelectedShift(\"\");setStartData(\"\");onHide();});};var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(\"Employee: \".concat(selectedEmployee,\", Position: \").concat(selectedPosition,\", Shift: \").concat(selectedShift));};return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:onHide,centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Add Shift\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Select,{value:selectedEmployee,onChange:function onChange(selectedOption){return setSelectedEmployee(selectedOption);},options:shifts.worker.map(function(item){return{value:item.id,label:\"\".concat(item.firstname,\" \").concat(item.surname)};})}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Position:\"}),/*#__PURE__*/_jsxs(Form.Select,{value:selectedPosition,onChange:function onChange(e){return setSelectedPosition(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Position\"}),shifts.positions.map(function(position){return/*#__PURE__*/_jsxs(\"option\",{value:position.id,children:[\" \",position.name]},position.id);})]})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"shift\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Shift:\"}),/*#__PURE__*/_jsxs(Form.Select,{value:selectedShift,onChange:function onChange(e){return setSelectedShift(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Shift\"}),shifts._workHourTemplates.map(function(workHourTemplate){return/*#__PURE__*/_jsxs(\"option\",{value:workHourTemplate.id,children:[\" \",workHourTemplate.name]},workHourTemplate.id);})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end mt-2\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",children:\"Add\"})})]})})]});};export default CreateShifts;","map":{"version":3,"names":["React","useContext","useEffect","useState","Modal","Button","Form","createShift","fetchCompanyType","fetchPositions","fetchWorker","fetchWorkHourTemplates","Context","Select","jsx","_jsx","jsxs","_jsxs","CreateShifts","_ref","show","onHide","data","_useContext","shifts","then","setPositions","setWorker","setWorkHourTemplates","_useState","_useState2","_slicedToArray","selectedEmployee","setSelectedEmployee","_useState3","_useState4","selectedPosition","setSelectedPosition","_useState5","_useState6","selectedShift","setSelectedShift","_useState7","_useState8","startData","setStartData","addShift","formData","FormData","append","handleSubmit","e","preventDefault","console","log","concat","centered","children","Header","closeButton","Title","Body","onSubmit","value","onChange","selectedOption","options","worker","map","item","id","label","firstname","surname","Group","Label","target","positions","position","name","controlId","_workHourTemplates","workHourTemplate","className","variant"],"sources":["C:/Users/melya/WebstormProjects/joblifeweb/client/src/modals/CreateShifts.js"],"sourcesContent":["import React, {useContext, useEffect, useState} from \"react\";\r\nimport { Modal, Button, Form } from \"react-bootstrap\";\r\nimport {createShift, fetchCompanyType, fetchPositions, fetchWorker, fetchWorkHourTemplates} from \"../http/ShiftsAPI\";\r\nimport {Context} from \"../index\";\r\nimport Select from 'react-select';\r\nconst CreateShifts = ({show, onHide, data}) => {\r\n    const {shifts}=useContext(Context)\r\n    useEffect(()=>{\r\n        fetchPositions().then(data =>shifts.setPositions(data));\r\n        fetchWorker().then(data =>shifts.setWorker(data))\r\n        fetchWorkHourTemplates().then(data =>shifts.setWorkHourTemplates(data))\r\n    },[])\r\n\r\n    const [selectedEmployee, setSelectedEmployee] = useState(\"\");\r\n    const [selectedPosition, setSelectedPosition] = useState(\"\");\r\n    const [selectedShift, setSelectedShift] = useState(\"\");\r\n\r\n\r\n    const [startData, setStartData] = useState('')\r\n    const addShift = () =>{\r\n        const formData = new FormData()\r\n        /*TODO*/\r\n        formData.append(\"workersShiftId\", selectedEmployee);\r\n        formData.append(\"positionId\", selectedPosition);\r\n        formData.append(\"workHourTemplateId\", selectedShift);\r\n        formData.append(\"startDate\", data);\r\n\r\n        createShift(formData).then(data => {\r\n            setSelectedEmployee(\"\");\r\n            setSelectedPosition(\"\");\r\n            setSelectedShift(\"\");\r\n            setStartData(\"\");\r\n            onHide();\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log(`Employee: ${selectedEmployee}, Position: ${selectedPosition}, Shift: ${selectedShift}`);\r\n    };\r\n\r\n    return (\r\n        <Modal show={show} onHide={onHide} centered>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Add Shift</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n\r\n                <Form onSubmit={handleSubmit}>\r\n\r\n                    <Select\r\n                        value={selectedEmployee}\r\n                        onChange={(selectedOption) => setSelectedEmployee(selectedOption)}\r\n                        options={shifts.worker.map(item =>({value:item.id, label:`${item.firstname} ${item.surname}`}))} />\r\n\r\n                    <Form.Group>\r\n                        <Form.Label>Position:</Form.Label>\r\n                        <Form.Select\r\n                            value={selectedPosition}\r\n                            onChange={(e) => setSelectedPosition(e.target.value)}\r\n                        >\r\n                            <option value=\"\">Select Position</option>\r\n                            {shifts.positions.map(position=>\r\n                            <option key={position.id} value={position.id}> {position.name}</option> )}\r\n\r\n                        </Form.Select>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"shift\">\r\n                        <Form.Label>Shift:</Form.Label>\r\n                        <Form.Select\r\n                            value={selectedShift}\r\n                            onChange={(e) => setSelectedShift(e.target.value)}\r\n                        >\r\n                            <option value=\"\">Select Shift</option>\r\n                            {shifts._workHourTemplates.map(workHourTemplate=>\r\n                                <option key={workHourTemplate.id} value={workHourTemplate.id}> {workHourTemplate.name}</option> )}\r\n\r\n                        </Form.Select>\r\n                    </Form.Group>\r\n\r\n                    <div className=\"d-flex justify-content-end mt-2\">\r\n                    <Button variant=\"primary\">\r\n                        Add\r\n                    </Button>\r\n                    </div>\r\n                </Form>\r\n            </Modal.Body>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default CreateShifts;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}